<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> GIP </title>
    <!-- Links -->
    <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <!-- Navigation -->
    <header>
        <a href="index.html" class="brand"> SauceForged </a>
        <div class="menu-btn"></div>
        <div class="navigation">
            <div class="navigation-items">
                <a href="index.html" > Home </a>
                <a href="author.html"> Author </a>
                <a href="project.html"> Project </a>
                <a href="stage.html"> Internship </a>
                <a href="lexicon.html"> Lexicon </a>
            </div>
        </div>
    </header>
    <!-- Main Section-->
    <section class="home">
        <div class="content">
        <!-- Database -->
        <div class="container text-white">
            <div class="white"></div>
            <table class="table table-group-divider text-white">
                <thead style="border-bottom: 2.5px solid white">
                    <th>Id</th>
                    <th>Term English</th>
                    <th>Description English</th>
                    <th>Term Dutch</th>
                    <th>Description Dutch</th>
                    <th>Term French</th>
                    <th>Description French</th>
                </thead>
                <tbody id="tbody1">

                </tbody>
                </table>
            </div>
        </div>
    </section>
    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <h3> SauceForged </h3>
            <p>Thank you for visiting! Stay connected and explore more</p>
            <ul class="socials">
                <li><a href="https://www.facebook.com"><i class="fa fa-facebook"></i></a></li>
                <li><a href="https://www.instagram.com"><i class="fa fa-instagram"></i></a></li>
                <li><a href="https://github.com/SirSaucey"><i class="fa fa-github"></i></a></li>
                <li><a href="https://www.twitter.com"><i class="fa fa-twitter"></i></a></li>
            </ul>
        </div>
        <div class="footer-bottom">
            <p> copyright &copy;2023 SauceForged. designed by <span> Rares-Eduard Tudor</span> </p>
        </div>
    </footer>
    <!-- Scripts -->
    <script src="https://kit.fontawesome.com/ea984401d2.js" crossorigin="anonymous"></script>
    <script src="script/responsive.js"></script>
    <!-- Lexicon Scripts -->
    
        <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-database.js"></script>

        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
        <script id="MainScript">
        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCQzQd4s0IkhsEO8yICJLAIWToUKS9OBvQ",
            authDomain: "lexicongip.firebaseapp.com",
            databaseURL: "https://lexicongip-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "lexicongip",
            storageBucket: "lexicongip.appspot.com",
            messagingSenderId: "788311475716",
            appId: "1:788311475716:web:d0b9080ded29bf4b301751"
        };
            firebase.initializeApp(firebaseConfig);
            //GET DATA//
            var TermNo = 0;
            var ctr = 1;
    
            function SelectAllData() {
                document.getElementById('tbody1').innerHTML = "";
                TermNo = 0;
                firebase.database().ref('Term/').on('value', (snapshot) => {
                    snapshot.forEach((CurrentRecord) => {
                        Id = CurrentRecord.key;
                        var IdTerm = CurrentRecord.val().IdTerm;
                        var TermEnglish = CurrentRecord.val().TermEnglish;
                        var DescriptionEnglish = CurrentRecord.val().DescriptionEnglish;
                        var TermDutch = CurrentRecord.val().TermDutch;
                        var DescriptionDutch = CurrentRecord.val().DescriptionDutch;
                        var TermFrench = CurrentRecord.val().TermFrench;
                        var DescriptionFrench = CurrentRecord.val().DescriptionFrench;
                        AddItemsToTable(TermEnglish, DescriptionEnglish, TermDutch, DescriptionDutch, TermFrench, DescriptionFrench);
    
    
                    });
                });
            }
    
            window.onload = SelectAllData;
    
            var TermList = [];
            function AddItemsToTable(TermEnglish, DescriptionEnglish, TermDutch, DescriptionDutch, TermFrench, DescriptionFrench) {
                var tbody1 = document.getElementById('tbody1');
                var trow = document.createElement('tr');
                var td0 = document.createElement('td');
                var td1 = document.createElement('td');
                var td2 = document.createElement('td');
                var td3 = document.createElement('td');
                var td4 = document.createElement('td');
                var td5 = document.createElement('td');
                var td6 = document.createElement('td');
                TermList.push([TermEnglish, DescriptionEnglish, TermDutch, DescriptionDutch, TermFrench, DescriptionFrench])
                td0.innerHTML = ++TermNo;
                td1.innerHTML = TermEnglish;
                td2.innerHTML = DescriptionEnglish;
                td3.innerHTML = TermDutch;
                td4.innerHTML = DescriptionDutch;
                td5.innerHTML = TermFrench;
                td6.innerHTML = DescriptionFrench;
                td1.classList += "TEField";
                td2.classList += "DEField";
                td3.classList += "TDField";
                td4.classList += "DDField";
                td5.classList += "TFField";
                td6.classList += "DFField";
                trow.appendChild(td0);
                trow.appendChild(td1);
                trow.appendChild(td2);
                trow.appendChild(td3);
                trow.appendChild(td4);
                trow.appendChild(td5);
                trow.appendChild(td6);
                
                tbody1.appendChild(trow);
            }
            var IdTermMod = document.getElementById('IdTerm');
            var TEMod = document.getElementById('TEMod');
            var DEMod = document.getElementById('DEMod');
            var TDMod = document.getElementById('TDMod');
            var DDMod = document.getElementById('DDMod');
            var TFMod = document.getElementById('TFMod');
            var DFMod = document.getElementById('DFMod');
    
            var BTNmodAdd = document.getElementById('AddModBtn');
            var BTNmodUpd = document.getElementById('UpdModBtn');
            var BTNmodDel = document.getElementById('DelModBtn');
            IdTermKey = "";
            function FillTboxes(index) {
                if (index == null) {
                    ctrSearch();
                    IdTermMod.value = ctr;
                    IdTermMod.disabled = true;
                    TEMod.value = "";
                    DEMod.value = "";
                    TDMod.value = "";
                    DDMod.value = "";
                    TFMod.value = "";
                    DFMod.value = "";
                    BTNmodAdd.style.display = 'inline-block';
                    BTNmodUpd.style.display = 'none';
                    BTNmodDel.style.display = 'none';
                }
                else {
                    --index;
                    TEMod.value = TermList[index][0];
                    DEMod.value = TermList[index][1];
                    TDMod.value = TermList[index][2];
                    DDMod.value = TermList[index][3];
                    TFMod.value = TermList[index][4];
                    DFMod.value = TermList[index][5];
                    var wordToSearch = TEMod.value;
    
                    firebase.database().ref('Term').orderByChild('TermEnglish').equalTo(wordToSearch).once('value').then(function (snapshot) {
                        if (snapshot.exists()) {
                            snapshot.forEach(function (childSnapshot) {
                                IdTermKey = childSnapshot.key;
                            });
                        } else {
                            console.log("Doesn't exist");
                        }
                    });
                    IdTermMod.value = IdTermKey;
                    IdTermMod.disabled = true;
                    BTNmodAdd.style.display = 'none';
                    BTNmodUpd.style.display = 'inline-block';
                    BTNmodDel.style.display = 'inline-block';
                }
            } function ctrSearch() {
                var temp;
                var check = 0;
                firebase.database().ref("Term/").once('value', function (snapshot) {
                    snapshot.forEach(function (childSnapshot) {
                        var temp = childSnapshot.key;
                        if (temp == ctr) {
                            ctr++;
    
                        } else if (check == 0) {
                            check++;
                            var nextNMB = ctr;
                        }
                    });
                });
            }
    
            function AddTerm() {
                ctrSearch();
                firebase.database().ref("Term/" + ctr).set({
                    IdTerm: ctr,
                    TermEnglish: TEMod.value,
                    DescriptionEnglish: DEMod.value,
                    TermDutch: TDMod.value,
                    DescriptionDutch: DDMod.value,
                    TermFrench: TFMod.value,
                    DescriptionFrench: DFMod.value
                },
                    (error) => {
                        if (error) {
                            alert("Failed");
                        } else {
                            SelectAllData();
                            ctrSearch();
                            IdTermMod.value = ctr;
                            IdTermMod.disabled = true;
                            TEMod.value = "";
                            DEMod.value = "";
                            TDMod.value = "";
                            DDMod.value = "";
                            TFMod.value = "";
                            DFMod.value = "";
                        }
                    }
                )
            }
            function UpdTerm() {
                firebase.database().ref("Term/" + IdTermKey).update({
                    IdTerm: IdTermKey,
                    TermEnglish: TEMod.value,
                    DescriptionEnglish: DEMod.value,
                    TermDutch: TDMod.value,
                    DescriptionDutch: DDMod.value,
                    TermFrench: TFMod.value,
                    DescriptionFrench: DFMod.value
                },
                    (error) => {
                        if (error) {
                            alert("Failed");
                        } else {
                            SelectAllData();
                            $("#ExampleModalCenter").modal('hide');
                        }
                    }
                )
            }
            function DelTerm() {
                firebase.database().ref("Term/" + IdTermKey).remove().then(
                    function () {
                        SelectAllData();
                        $("#ExampleModalCenter").modal('hide');
    
                    }
                )
            }
    
    
            var searchBar = document.getElementById("SearchBar");
            var searchBtn = document.getElementById("SearchBtn");
            var Category = document.getElementById("CategorySelected");
            var tbody = document.getElementById("tbody1");
    
    
      </script>
</body>
</html>
